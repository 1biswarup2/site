<!doctype html>
<html lang="en">
  <head id="home">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>website</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  </head>
  <body>
    <!-- navbar -->
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">Welcome</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#home">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="/skills">skills</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="#contact">Contact me</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="#about">About me</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="/projects">project details</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="/education&exp">Education & Experience</a>
              </li>
            </ul>
            <form class="d-flex" role="search">
              <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
              <button class="btn btn-outline-success" type="submit">Search</button>
            </form>
          </div>
        </div>
      </nav>
      <!-- carousel images -->
      <div id="carouselExampleAutoplaying" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="https://source.unsplash.com/1600x300/?machine learning" class="d-block w-30" alt="...">
          </div>
          <div class="carousel-item">
            <img src="https://source.unsplash.com/1600x300/?website" class="d-block w-30" alt="...">
          </div>
          <div class="carousel-item">
            <img src="https://source.unsplash.com/1600x300/?research" class="d-block w-30" alt="...">
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
      <br>
      <p style="text-align:center; font-weight:bold; font-size: 25px;">Please check other pages also mentioned at navigation bar </p>
      <!-- know me -->
      <div class="container mt-4" style="font-size:20px">
      <div class="card text-center" style="background-color: purple; font-weight:bold;color:black;">
        <div class="card-header">
          <h2>KNOW ME</h2>
        </div>
        <div class="card-body">
          <h5 class="card-title" >Hello I am Biswarup</h5>
          <pre class="card-text">
            I am Biswarup Saha. I am born and brought up in West Bengal,India. 
            I am currently pursuing my M.Tech in Computer Science and Engineering at IIT,Kharagpur. 
            I have done my B.Tech in Computer Science and Engineering at JIIT,Noida,Secotor-62. 
            To know more about me plese click on the button below and check my resume.

            My area of interset are : Website development, Machine learning,Deep learning,Data Science & analytics.
            <br>
            *** please check the other sections also mentioned at navigatiioon bar***
          </pre>
          <div class="d-grid gap-2">
            <a href="https://drive.google.com/file/d/1fuL0c0UjxbFZipXkP-k2sUdEp25pj7DI/view?usp=sharing
            " class="btn btn-dark" type="button">Feel free to check my resume</a>
          </div>
        </div>
      </div>
      </div>
      <br>
      <br>
      <!-- contact form -->
      <h3 id="contact"class="text-center"> Contact Me</h3>
      <div class="container mt-4">
        <div class=" text-center mb-3">
          <label for="exampleFormControlInput1" class="form-label">Email address</label>
          <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com">
        </div>
        <div class="text-center mb-3">
          <label for="exampleFormControlTextarea1" class="form-label">How can I help you ? </label>
          <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
        </div>
        <!-- submit button -->
        <div class="d-grid gap-2">
             <a href="mailto:biswarup.saha@kgpian.iitkgp.ac.in" class="btn btn-primary" type="button">mail me</a>
          
        </div>
      </div>
      <br>
      <br>
      <br>
      <!-- footer & about me -->
      <div class="card text-bg-dark mb-3" >
        <div id="about"class="text-center card-header">About me</div>
        <div class="card-body">
          <h5 class="text-center card-title">I am Biswarup Saha</h5>
          <pre class="text-center card-text">
            Feel free to contact me for any job/internship offer that suits my profile.
            Mail me: biswarup.saha@kgpian.iitkgp.ac.in
          </pre>
          <p class="text-center card-text">copyrights@2023</p>
        </div>
      </div>
      <!-- Chat Icon -->
    <div id="chatIcon" style="position: fixed; bottom: 20px; right: 20px; cursor: pointer; z-index: 1050;">
        <img src="https://cdn-icons-png.flaticon.com/512/60/60525.png" alt="Chat Icon" style="width: 50px; height: 50px;">
    </div>

    <!-- Chat Interface (initially hidden) -->
    <div id="chatInterface" style="display: none; position: fixed; bottom: 80px; right: 20px; width: 300px; height: 400px; border: 1px solid #ccc; border-radius: 10px; padding: 10px; background-color: white; z-index: 1050; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
        <div id="chatMessages" style="height: 350px; overflow-y: auto; margin-bottom: 10px;"></div>
        <input type="text" id="chatInput" style="width: 100%;" placeholder="Type your message...">
    </div>
    
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const queryInput = document.getElementById('chatInput');
            const chatIcon = document.getElementById('chatIcon');
            const chatInterface = document.getElementById('chatInterface');
            const chatMessages = document.getElementById('chatMessages');

            // Toggle chat interface display
            chatIcon.onclick = function() {
                chatInterface.style.display = chatInterface.style.display === 'none' ? 'block' : 'none';
                queryInput.focus();  // Focus on the input field when chat is opened
            };

            // Send message when Enter is pressed in input field
            queryInput.onkeypress = function(e) {
                if (e.key === 'Enter' && this.value.trim() !== '') {
                    sendMessage(this.value.trim());
                    this.value = '';
                }
            };

            // Function to preload content and handle chat operations
            async function preloadContent() {
                const response = await fetch('http://127.0.0.1:5000/preload', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ url:window.location.href })  // Pass current page URL
                });
                const result = await response.json();
                console.log(result.message);  // Log preload result
            }

            // Fetch preload content when the page is loaded
            preloadContent();

            // Function to send query to server and receive answer
            async function sendMessage(message) {
                chatMessages.innerHTML += `<div>You: ${message}</div>`;  // Display sent message
                const response = await fetch('http://127.0.0.1:5000/query', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ query: message })
                });
                const result = await response.json();
                if (result.answer) {
                    chatMessages.innerHTML += `<div>Bot: ${result.answer}</div>`;  // Display bot response
                    chatMessages.scrollTop = chatMessages.scrollHeight;  // Scroll to the latest message
                } else {
                    chatMessages.innerHTML += `<div>Error fetching answer.</div>`;
                }
            }
        });
        </script>


    
        
        

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  </body>
</html>
